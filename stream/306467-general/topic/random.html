<html>
<head><meta charset="utf-8"><title>random · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="http://tisonkun.org/zulip-archive/stream/306467-general/index.html">general</a></h2>
<h3>Topic: <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html">random</a></h3>

<hr>

<base href="https://engula.zulipchat.com/">

<head><link href="http://tisonkun.org/zulip-archive/style.css" rel="stylesheet"></head>

<a name="263087610"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263087610" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263087610">(Nov 30 2021 at 00:35)</a>:</h4>
<p>Created a universe fallback topic.</p>



<a name="263103728"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263103728" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263103728">(Nov 30 2021 at 05:35)</a>:</h4>
<p>Zulip can be an unintuitive platform to get started with. As documented in Rust Forge, to get started, you can take a look at the <a href="https://zulipchat.com/help/getting-started-with-zulip">getting started guide</a>. For more detail, examine the <a href="https://zulipchat.com/help/">Zulip user documentation</a>.</p>



<a name="263103801"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263103801" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263103801">(Nov 30 2021 at 05:36)</a>:</h4>
<p>Personally, I regard it as a composition of topics and topic groups (streams). That means, in Slack, you should create a thread explicit, but in Zulip, every message naturally belongs to a thread (topic).</p>



<a name="263103820"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263103820" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263103820">(Nov 30 2021 at 05:37)</a>:</h4>
<p>I'm looking for partners testing the meet functionality. If you volunteer to, ping me by <span class="user-mention" data-user-id="456473">@tison</span> .</p>



<a name="263103870"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263103870" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263103870">(Nov 30 2021 at 05:38)</a>:</h4>
<p>Also I create a <a href="https://github.com/engula/engula/discussions/141">discussion</a> about this channel on the discussion forum.</p>



<a name="263105421"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263105421" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263105421">(Nov 30 2021 at 06:13)</a>:</h4>
<p>Oh, the UI looks very nerdy to me :)</p>



<a name="263105968"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263105968" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263105968">(Nov 30 2021 at 06:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="460845">zojw</span> has marked this topic as resolved.</p>



<a name="263105979"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263105979" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263105979">(Nov 30 2021 at 06:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="460845">zojw</span> has marked this topic as unresolved.</p>



<a name="263119674"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263119674" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263119674">(Nov 30 2021 at 09:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="460843">Richard</span> <a href="#narrow/stream/306467-general/topic/random/near/263105421">said</a>:</p>
<blockquote>
<p>Oh, the UI looks very nerdy to me :)</p>
</blockquote>
<p>I think it's the reason why nick posted <a href="https://twitter.com/nick_r_cameron/status/1458017392357953536">this tweet</a>. The style is somehow into IRC era and if you like full-text style, you can get used to it.</p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/nick_r_cameron/status/1458017392357953536"><img class="twitter-avatar" src="https://uploads.zulipusercontent.net/9a3b41aaeeca76f33fb70fd738413703f6fe8ebe/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f3334343531333236313537393831343131312f37613265333634666632623835636265633466663731393663653732363064315f6e6f726d616c2e706e67"></a><p><a href="https://twitter.com/dsilverstone">@dsilverstone</a> <a href="https://twitter.com/rustlang">@rustlang</a> It took me a long time to warm to Zulip, the UI is kind of a train wreck, but I a fan now. Going back to Slack or Discord feels like chaos</p><span>- nrc (@nick_r_cameron)</span></div></div>



<a name="263238951"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263238951" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263238951">(Dec 01 2021 at 03:01)</a>:</h4>
<blockquote>
<p>Your organization's request for sponsored hosting has been approved! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span>.<br>
You have been upgraded to Zulip Cloud Standard, free of charge.</p>
</blockquote>
<p>We're now upgraded to Standard plan free of charge as an open-source project. And I switched the message retain policy to retain forever.</p>



<a name="263550444"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263550444" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263550444">(Dec 03 2021 at 08:56)</a>:</h4>
<p>I'd like to know which data format is most commonly used in Rust world for <code>serde</code>? I've checked <a href="https://serde.rs/">the doc of serde</a> but all data formats listed there don't seem a de-factor choice.</p>



<a name="263550598"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263550598" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263550598">(Dec 03 2021 at 08:58)</a>:</h4>
<p>The question comes from <a href="https://github.com/engula/engula/pull/158#discussion_r761622075">here</a> where I tried to serialize timestamp so that we don't depend on that a timestamp must be a <code>u64</code>. For quickly implementing I choose <code>serde_json</code> but it looks weird anyway :P</p>



<a name="263550698"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263550698" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263550698">(Dec 03 2021 at 08:59)</a>:</h4>
<p><span class="user-mention" data-user-id="456473">@tison</span> now that we control the specific type of <code>Timestamp</code>. I think we can simply encode it to big endian bytes, or, <code>to_be_bytes()</code>.</p>



<a name="263550988"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263550988" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263550988">(Dec 03 2021 at 09:01)</a>:</h4>
<p>Big endian bytes are also memory comparable, so if <code>u64</code> is proofed to be not sufficient someday, we can just use <code>Vec&lt;u8&gt;</code> instead.</p>



<a name="263551326"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263551326" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263551326">(Dec 03 2021 at 09:04)</a>:</h4>
<p>Do you mean that we define our own special data format for <code>Timestamp</code>? Let me give it a try.</p>



<a name="263551371"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263551371" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263551371">(Dec 03 2021 at 09:05)</a>:</h4>
<p>Yeah, we don't actually need the <code>serde</code> stuff here.</p>



<a name="263571989"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263571989" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263571989">(Dec 03 2021 at 12:27)</a>:</h4>
<p><span class="user-mention" data-user-id="460843">@Richard</span> <a href="https://github.com/engula/engula/pull/163">https://github.com/engula/engula/pull/163</a> here is the PR for it.</p>



<a name="263817429"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263817429" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> dragonly <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263817429">(Dec 06 2021 at 07:57)</a>:</h4>
<p>This is an oddly good place for chat.</p>



<a name="263841088"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/263841088" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#263841088">(Dec 06 2021 at 12:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="462436">dragonly</span> <a href="#narrow/stream/306467-general/topic/random/near/263817429">said</a>:</p>
<blockquote>
<p>This is an oddly good place for chat.</p>
</blockquote>
<p>Yep. I think the UI style is somehow inherited from the IRC era. I deadly like it.</p>



<a name="264104760"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264104760" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264104760">(Dec 08 2021 at 02:47)</a>:</h4>
<p><a href="https://blog.sesse.net/blog/tech/2021-12-05-16-41_leaving_mysql.html">https://blog.sesse.net/blog/tech/2021-12-05-16-41_leaving_mysql.html</a></p>



<a name="264162504"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264162504" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264162504">(Dec 08 2021 at 14:30)</a>:</h4>
<p><a href="https://www.ncameron.org/blog/portable-and-interoperable-async-rust/">https://www.ncameron.org/blog/portable-and-interoperable-async-rust/</a></p>



<a name="264425003"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264425003" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264425003">(Dec 10 2021 at 10:02)</a>:</h4>
<p><span class="user-mention" data-user-id="460843">@Richard</span> <span class="user-mention" data-user-id="460845">@zojw</span> <span class="user-mention" data-user-id="462456">@p4tr1ck</span> I'm wondering one question: is the current Engine design primarily aimed at using as a service or a library? They're quite different. If we're thinking of service, there're multiple units and cluster management things; but if a library, there are no client/server things.</p>



<a name="264425139"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264425139" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264425139">(Dec 10 2021 at 10:04)</a>:</h4>
<p>Let's have a meeting about this. I think there are too much confusion and misunderstanding here.</p>



<a name="264425187"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264425187" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264425187">(Dec 10 2021 at 10:04)</a>:</h4>
<p>I can see that currently when we implement the memory hash engine, a goal is to "replace rocksdb" as a library. But defining Engine/Kernel concepts requires a view from deployment. The design is currently lack of a cluster coordinator that makes things unclear.</p>



<a name="264425320"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264425320" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264425320">(Dec 10 2021 at 10:06)</a>:</h4>
<p><span class="user-mention" data-user-id="456473">@tison</span> Let's wait for a while to see if <span class="user-mention" data-user-id="462456">@p4tr1ck</span> wants to join us.</p>



<a name="264425353"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264425353" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264425353">(Dec 10 2021 at 10:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="460843">Richard</span> <a href="#narrow/stream/306467-general/topic/random/near/264425139">said</a>:</p>
<blockquote>
<p>Let's have a meeting about this. I think there are too much confusion and misunderstanding here.</p>
</blockquote>
<p>We can make a schedule for this discussion? It's about dinner now I think :P</p>



<a name="264425452"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264425452" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264425452">(Dec 10 2021 at 10:07)</a>:</h4>
<p>I think maybe at 8 or 9 PM.</p>



<a name="264429025"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264429025" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264429025">(Dec 10 2021 at 10:42)</a>:</h4>
<p>I created a schedule on Google Canlander (8 PM) and you can <a href="https://us05web.zoom.us/j/84570335353?pwd=MUV2dHdUTFBFeGtGUVZ1Z0crbGUzdz09">click to join video call</a> at that time.</p>



<a name="264436096"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264436096" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264436096">(Dec 10 2021 at 11:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="456473">tison</span> <a href="#narrow/stream/306467-general/topic/random/near/264429025">said</a>:</p>
<blockquote>
<p>I created a schedule on Google Canlander (8 PM) and you can <a href="https://us05web.zoom.us/j/84570335353?pwd=MUV2dHdUTFBFeGtGUVZ1Z0crbGUzdz09">click to join video call</a> at that time.</p>
</blockquote>
<p><span class="user-mention" data-user-id="460845">@zojw</span> <span class="user-mention" data-user-id="460843">@Richard</span> <span class="user-mention" data-user-id="462456">@p4tr1ck</span> as a reminder, is the schedule OK for you? Above said 8 or 9 and I propose 8 :)</p>



<a name="264436524"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264436524" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264436524">(Dec 10 2021 at 11:58)</a>:</h4>
<p>I am OK</p>



<a name="264436546"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264436546" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> p4tr1ck <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264436546">(Dec 10 2021 at 11:58)</a>:</h4>
<p>I am OK</p>



<a name="264448181"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264448181" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264448181">(Dec 10 2021 at 13:41)</a>:</h4>
<p>I summarize our discussion a bit at <a href="https://github.com/engula/engula/discussions/182#discussioncomment-1785600">this thread</a>. Feel free to comment more.</p>



<a name="264450400"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264450400" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264450400">(Dec 10 2021 at 13:58)</a>:</h4>
<p><span class="user-mention" data-user-id="462456">@p4tr1ck</span> right now we talk about engine-specific logic on the kernel.  In the situation of distributed deployment, an Engine connect to a remote <code>K8sKernel</code> with a local <code>GrpcKernel</code> handle. I'd like to ask that in this case, where the engine-specific logic should be loaded? I can imagine that it's loaded in both <code>Kernel</code>.</p>
<p>Hopefully, we can use compose over inheritance so that a general <code>K8sKernel</code> takes these specific logics behind a handle instead of <code>K8sXxxKernel</code> and  <code>K8sYyyKernel</code>:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">struct</span> <span class="nc">K8sKernel</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">XxxOrYyy</span><span class="w"> </span><span class="n">SpecificLogicsHandle</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="264452210"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264452210" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> zojw <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264452210">(Dec 10 2021 at 14:11)</a>:</h4>
<p>how about let localKernel reject compaction request and let compaction run in local engine??</p>
<p>for example: </p>
<p>in local env, localEngine find it need do compaction and prepare compaction input param(e.g. candidate objects), and request localKernel to compaction,  localKernel receive and reject with ErrDoItLocal... then localEngine run doCompaction local with some thread pool - -</p>
<p>but for k8s, localEngine find it need do compaction and prepare compaction input param(e.g. candidate objects),  and request k8sKernel to compaction, k8sKernel receive request and  setup resource in k8s jobpool and run another localEngine but read object from shared storage like S3, at last k8sKernel request new instance's localEngine's doCompaction method <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="264452725"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264452725" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264452725">(Dec 10 2021 at 14:15)</a>:</h4>
<p>There is a better way for this condition as:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">match</span><span class="w"> </span><span class="n">Kernel</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">k</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="n">LocalKernel</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="o">..</span><span class="p">.,</span><span class="w"></span>
<span class="w">  </span><span class="n">k</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="n">GrpcKernel</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="o">..</span><span class="p">.,</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="264452845"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264452845" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264452845">(Dec 10 2021 at 14:16)</a>:</h4>
<p>When you talk to a K8sKernel, I think it's almost via a GrpcKernel interface and the K8sKernel running in the KernelServer.</p>



<a name="264453149"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264453149" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264453149">(Dec 10 2021 at 14:18)</a>:</h4>
<p>OMG, <code>ErrDoItLocal</code></p>



<a name="264658525"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264658525" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> p4tr1ck <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264658525">(Dec 13 2021 at 02:51)</a>:</h4>
<blockquote>
<p>where the engine-specific logic should be loaded?</p>
</blockquote>
<p><span class="user-mention" data-user-id="456473">@tison</span>  just like the example given by <span class="user-mention" data-user-id="460845">@zojw</span> , in k8s,  <code>LocalEngine</code>  find it need to do compaction, send request to <code>K8sKernel</code> through local <code>GrpcKernel</code> handle.  This looks like:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">impl</span><span class="w"> </span><span class="n">Kernel</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">K8sKernel</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">delegate</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">task_url</span>: <span class="kp">&amp;</span><span class="kt">str</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="p">(),</span><span class="w"> </span><span class="n">Error</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">..</span><span class="p">.</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">impl</span><span class="w"> </span><span class="n">LocalEngine</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">do_compaction</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="bp">self</span><span class="p">.</span><span class="n">kernel</span><span class="p">.</span><span class="n">delegate</span><span class="p">(</span><span class="s">"k8s://local_engine_binary?params1=xxx&amp;params2=xx"</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>So the <code>K8sKernel</code> doesn't need to know the engine-specific logic.  On the same time,  It is also easy to unify remote and local logic.  For example, we add some logic in <code>LocalKernel</code>:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">trait</span><span class="w"> </span><span class="n">RequestRoute</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">forward</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">url</span>: <span class="kp">&amp;</span><span class="kt">str</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">struct</span> <span class="nc">LocalKernel</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">req_router</span>: <span class="nb">Box</span><span class="o">&lt;</span><span class="k">dyn</span><span class="w"> </span><span class="n">RequestRouter</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">impl</span><span class="w"> </span><span class="n">LocalKernel</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">new</span><span class="p">(</span><span class="n">req_router</span>: <span class="nb">Box</span><span class="o">&lt;</span><span class="k">dyn</span><span class="w"> </span><span class="n">RequestRouter</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Kernel</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">..</span><span class="p">.</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">impl</span><span class="w"> </span><span class="n">Kernel</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">LocalKernel</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">delegate</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">url</span>: <span class="kp">&amp;</span><span class="kt">str</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="p">(),</span><span class="w"> </span><span class="n">Error</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="bp">self</span><span class="p">.</span><span class="n">req_router</span><span class="p">.</span><span class="n">forward</span><span class="p">(</span><span class="n">url</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>In this way, LocalKernel doesn't need to be aware of engine-specific logics, and the interface can be kept uniform.</p>



<a name="264664335"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264664335" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> p4tr1ck <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264664335">(Dec 13 2021 at 05:06)</a>:</h4>
<p><span class="user-mention" data-user-id="460843">@Richard</span> Do  you plan building a experiment database system based on engula? I am very interested. Is there anything I can participate in ?</p>



<a name="264664366"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264664366" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264664366">(Dec 13 2021 at 05:07)</a>:</h4>
<p>Yes, I do :)</p>



<a name="264664442"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264664442" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264664442">(Dec 13 2021 at 05:08)</a>:</h4>
<p>Building Engula without using it ourselves is not so interesting.</p>



<a name="264664604"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264664604" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264664604">(Dec 13 2021 at 05:12)</a>:</h4>
<blockquote>
<p>I am very interested. Is there anything I can participate in?</p>
</blockquote>
<p>But I don't have a clear direction about the experimental database yet. So we can start with discussing what kind of database we want to build here.</p>



<a name="264665796"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264665796" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264665796">(Dec 13 2021 at 05:37)</a>:</h4>
<p>I remember <a href="https://github.com/engula/engula/issues/160">this issue</a> and we can start a new topic or I'd prefer primary on the GitHub issue.</p>



<a name="264666660"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264666660" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> p4tr1ck <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264666660">(Dec 13 2021 at 05:55)</a>:</h4>
<p><span class="user-mention" data-user-id="460843">@Richard</span> that's great. <span class="user-mention" data-user-id="456473">@tison</span> I also agree to discuss on github issue or discussion.</p>
<p>BTW, building a sql database system may not be the best choice, because a lot of sql-releated work needs to be processed, and the goal at this stage may be to verify the ability of engula faster.</p>



<a name="264667659"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264667659" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264667659">(Dec 13 2021 at 06:16)</a>:</h4>
<p>Consider that just a toy of mine so far.</p>



<a name="264667828"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264667828" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> p4tr1ck <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264667828">(Dec 13 2021 at 06:19)</a>:</h4>
<p>Aha, I also planned to make a toy before, but I delayed it for a long time.</p>



<a name="264887690"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/264887690" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luhuanbing <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#264887690">(Dec 14 2021 at 16:52)</a>:</h4>
<p>Hello everyone, I am a newcomer developer invited by tison <span class="user-mention" data-user-id="456473">@tison</span> . I am a former PingCAP intern. I am currently studying as a graduate student in a Chinese university. I read each line of code of the project today, and I have a deep understanding of why the engine and kernel are designed, and what their role is. It's really a genius design! It's really great! Not even sleepy at night! But after reading it, there are still a few suggestions: First, it is unfriendly to have no comments! Second, in the current memtable or journal design, no lock-free data structure is designed. Of course, it is understandable, in order to have a demo that can be used as soon as possible, but the global lock is really not so elegant compared to the design of stream. You can consider using Atomic lock-free programming + Debra or ebr, or use channel.</p>
<p>PS: I am currently doing similar things on my github, but the main focus is on designing high-performance KV storage with lock-free data structures.</p>
<p>Here is my link to Discussion, if you are interested, you can discuss it below</p>
<p><a href="https://github.com/engula/engula/discussions/197">https://github.com/engula/engula/discussions/197</a></p>



<a name="265289159"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/265289159" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#265289159">(Dec 17 2021 at 12:29)</a>:</h4>
<p>I guess I should consider managing my HN account from now on <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>



<a name="265294401"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/265294401" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#265294401">(Dec 17 2021 at 13:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="460843">Richard</span> <a href="#narrow/stream/306467-general/topic/release.200.2E2/near/265289159">said</a>:</p>
<blockquote>
<p>I guess I should consider managing my HN account from now on <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>
</blockquote>
<p>Haha. I must say I subscribe HN a long time ago but never sign up until today :(</p>



<a name="265458950"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/265458950" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#265458950">(Dec 19 2021 at 03:47)</a>:</h4>
<p>Send a random message here to verify <a href="https://tisonkun.org/zulip-archive/">Zulip Archive</a> updates correctly.</p>



<a name="265690384"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/265690384" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#265690384">(Dec 21 2021 at 14:26)</a>:</h4>
<p>I will be out in the next few days. So I may not be able to respond here or on Github in time. FYI</p>



<a name="265701170"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/265701170" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#265701170">(Dec 21 2021 at 15:57)</a>:</h4>
<p><span class="user-mention" data-user-id="460843">@Richard</span> wish you have a good break!</p>



<a name="265701421"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/265701421" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#265701421">(Dec 21 2021 at 15:59)</a>:</h4>
<p>It seems the project's activities grows gradually (<a href="https://github.com/engula/engula/discussions/220">ref0</a>, <a href="https://github.com/engula/engula/discussions/216">ref1</a>, <a href="https://github.com/engula/engula/discussions/218">ref2</a>, <a href="https://github.com/engula/engula/discussions/214">ref3</a>). It can be challenging for maintaining more and more threads :)</p>



<a name="265930615"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/265930615" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ming <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#265930615">(Dec 23 2021 at 16:18)</a>:</h4>
<p>I was looking into the code of v0.2.0, just some random thought.<br>
It seems to me that "Kernel" is just a very thin layer and can be considered as a service registry. There are several services in this system:</p>
<ul>
<li>Journal</li>
<li>Storage</li>
<li>Background</li>
<li>Manifest (I guess it will be added later?)</li>
</ul>
<p>A user interact with a specific "engine" which implements:</p>
<ul>
<li>Transaction</li>
<li>Query Processing (For example SQL optimizer, execution...)</li>
<li>Sharding related</li>
</ul>
<p>The "Kernel" is more like a way for service discovery. All the other components/services (Journal, etc..) seems like some kind of "smart" proxy that abstract the functionality of the public cloud.</p>



<a name="265931251"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/265931251" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#265931251">(Dec 23 2021 at 16:26)</a>:</h4>
<p>Kernel integrates different components for Engine so that Engine doesn't need to care about how all the underlying components. Kernel also allows different Engine instances (primary/secondary) to share some common state.</p>



<a name="265931869"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/265931869" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ming <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#265931869">(Dec 23 2021 at 16:33)</a>:</h4>
<p>I thought all the following interface can be implemented in "Manifest Service", and Kernel is just a way to find all the other stuffs for an "Engine".<br>
Kernel#apply_update<br>
Kernel#current_version<br>
Kernel#version_updates</p>



<a name="265933379"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/265933379" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#265933379">(Dec 23 2021 at 16:52)</a>:</h4>
<p>Oh, yes, I actually considered that way. I think the abstraction between Kernel and Manifest is still a bit vague now. There are two ways here:</p>
<ul>
<li>Make Manifest very simple, which only provides some key-value metadata storage</li>
<li>Make Manifest a bit heavier, providing the functionalities listed above</li>
</ul>
<p>I haven't made up my mind here yet. Another thing is whether Manifest should be moved outside of Kernel and put in the same level with Journal/Storage. I think I will refactor these things to make it more clear in v0.3.</p>



<a name="266140117"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/266140117" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jun Gu <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#266140117">(Dec 27 2021 at 02:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="460843">Richard</span> <a href="#narrow/stream/306467-general/topic/random/near/265289159">said</a>:</p>
<blockquote>
<p>I guess I should consider managing my HN account from now on <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>
</blockquote>
<p>Let me share my two cents with you guys. "如何在Hacker News上成功创建一个ID"<br>
<a href="https://www.zhihu.com/question/19661127/answer/2284119532">https://www.zhihu.com/question/19661127/answer/2284119532</a></p>



<a name="266232976"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/266232976" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#266232976">(Dec 28 2021 at 05:38)</a>:</h4>
<p><span class="user-mention" data-user-id="462439">@Jun Gu</span> thanks for your sharing. I contacted with the moderation team and my account should be able to post next announcement :)</p>



<a name="266262320"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/266262320" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jun Gu <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#266262320">(Dec 28 2021 at 14:12)</a>:</h4>
<p>good to know <span aria-label="blush" class="emoji emoji-1f60a" role="img" title="blush">:blush:</span></p>



<a name="266325135"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/266325135" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#266325135">(Dec 29 2021 at 07:54)</a>:</h4>
<p><span class="user-mention" data-user-id="460843">@Richard</span> I feel that others can do a review after merge once you push all works related to luna engine in the codebase. It's currently fragmented and without an overall perspective there are little valuable comments.</p>



<a name="266325289"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/266325289" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#266325289">(Dec 29 2021 at 07:57)</a>:</h4>
<p>Yeah, makes sense. It's hard for me to explain some changes without showing the other parts too.</p>



<a name="266325365"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/266325365" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#266325365">(Dec 29 2021 at 07:58)</a>:</h4>
<p>Go ahead! lol</p>



<a name="266400208"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/266400208" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#266400208">(Dec 30 2021 at 03:56)</a>:</h4>
<p><span class="user-mention" data-user-id="456473">@tison</span> It seems we can install a Zoom app for Zulip or a Zulip app for Zoom. I don't know how it works, you may take a look :)</p>



<a name="266400213"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/266400213" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#266400213">(Dec 30 2021 at 03:56)</a>:</h4>
<p>It requires admin permission</p>



<a name="266400228"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/266400228" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#266400228">(Dec 30 2021 at 03:57)</a>:</h4>
<p>Interesting. I think I've installed it already, but possibly with my account only. Let me investigate it.</p>



<a name="266400627"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/266400627" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#266400627">(Dec 30 2021 at 04:04)</a>:</h4>
<p>It should work for everyone here :)</p>



<a name="267690286"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/267690286" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#267690286">(Jan 12 2022 at 07:37)</a>:</h4>
<ul>
<li><a href="https://cwiki.apache.org/confluence/display/FLINK/FLIP-188%3A+Introduce+Built-in+Dynamic+Table+Storage">https://cwiki.apache.org/confluence/display/FLINK/FLIP-188%3A+Introduce+Built-in+Dynamic+Table+Storage</a></li>
<li><a href="https://github.com/apache/flink-table-store/pull/1">https://github.com/apache/flink-table-store/pull/1</a></li>
</ul>
<p>I just found that Apache Flink is also trying to build their own exported state storage. The motivation of Engula that it's a common requirement building a storage engine for any serious data solution holds :)</p>



<a name="267690629"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/267690629" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> zojw <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#267690629">(Jan 12 2022 at 07:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="456473">tison</span> <a href="#narrow/stream/306467-general/topic/random/near/267690286">said</a>:</p>
<blockquote>
<ul>
<li><a href="https://cwiki.apache.org/confluence/display/FLINK/FLIP-188%3A+Introduce+Built-in+Dynamic+Table+Storage">https://cwiki.apache.org/confluence/display/FLINK/FLIP-188%3A+Introduce+Built-in+Dynamic+Table+Storage</a></li>
<li><a href="https://github.com/apache/flink-table-store/pull/1">https://github.com/apache/flink-table-store/pull/1</a></li>
</ul>
<p>I just found that Apache Flink is also trying to build their own exported state storage. The motivation of Engula that it's a common requirement building a storage engine for any serious data solution holds :)</p>
</blockquote>
<p>Woo, thanks for sharing, it seems they choose save debezium in log store as default, what's the benefit of  debezium? Does it can help our journal? :)  (for example,  other system like es can use a engula's "debezium journal" as CDC?</p>



<a name="267691560"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/267691560" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#267691560">(Jan 12 2022 at 07:58)</a>:</h4>
<p><span class="user-mention" data-user-id="460845">@zojw</span> I'm unfamiliar with difference between CDC data formats. But the reason that in the proposal they chooses debezium includes that Flink already support this formats[1] and it's one of the widest used data format; also, flink-cdc primarily supports debezium[2].</p>
<blockquote>
<p>other system like es can use a engula's "debezium journal" as CDC</p>
</blockquote>
<p>I think we can always build our own journal format for every implementation optimally. And yes, if you expose journal events in debezium format, you connect to that ecosystem, while there is still several works to do for processing the events achieving application logics. It's proper to regard such direction as ecosystem connections, not a primary dependency of Engula IMO.</p>
<p>[1] <a href="https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/table/formats/debezium/">https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/table/formats/debezium/</a><br>
[2] <a href="https://github.com/ververica/flink-cdc-connectors">https://github.com/ververica/flink-cdc-connectors</a></p>



<a name="267827815"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/267827815" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#267827815">(Jan 13 2022 at 06:06)</a>:</h4>
<p><span class="user-mention" data-user-id="460843">@Richard</span> <span class="user-mention" data-user-id="460845">@zojw</span> <span class="user-mention" data-user-id="462456">@p4tr1ck</span> I notice that RFCs you guys involved are already under implementing. If so, please:</p>
<ol>
<li>Update the state of RFCs as accepted.</li>
<li>Update the pull request link of the RFC in the content.</li>
<li>Create a tracking issue for each of them and update the issue link in the content.</li>
<li>Merging the RFC PR.</li>
</ol>
<p>Otherwise, we build the RFC process but don't follow it. It's basically logging our works for tracking later for all contributors including ourselves and further incomers.</p>
<ul>
<li><a href="https://github.com/engula/engula/pull/247">https://github.com/engula/engula/pull/247</a></li>
<li><a href="https://github.com/engula/engula/pull/280">https://github.com/engula/engula/pull/280</a></li>
</ul>



<a name="268160597"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/268160597" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#268160597">(Jan 16 2022 at 02:50)</a>:</h4>
<ul>
<li><a href="https://github.com/engula/engula/issues/221">https://github.com/engula/engula/issues/221</a></li>
<li><a href="https://github.com/engula/engula/issues/284">https://github.com/engula/engula/issues/284</a></li>
<li><a href="https://github.com/engula/engula/issues/263">https://github.com/engula/engula/issues/263</a></li>
</ul>
<p><span class="user-mention" data-user-id="460843">@Richard</span> <span class="user-mention" data-user-id="460845">@zojw</span> <span class="user-mention" data-user-id="462456">@p4tr1ck</span> you guys may create subtasks during working on these tracking issues. It's obviously that you cannot get the issue resolved in a few days, while the subtasks are relatively determinate.</p>
<p>You can crate subtasks, further then an todo item in the tracking issue, as in <a href="https://github.com/pingcap/tidb/issues/28170">https://github.com/pingcap/tidb/issues/28170</a>, so that I can try to find contributors for taking every subtask and it's more easy to track the process and to understand what tasks are concretely focused.</p>
<p>Remember that we're working in the community, not only ourselves, so you can always extend your strength by telling others what you want to do. It always helps yourself to mount the target.</p>
<p>If a potential participant comes into the project, and finds that there is no open issues they can take over, they may simply understand as "this project doesn't need me"/"I can do nothing for you" and leave.</p>



<a name="272498659"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/272498659" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#272498659">(Feb 19 2022 at 06:48)</a>:</h4>
<p>After <a href="https://github.com/engula/engula/pull/439">https://github.com/engula/engula/pull/439</a> merged you can run a engula server container with:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>docker run --rm -d -p <span class="m">21716</span>:21716 ghcr.io/engula/engula server start
</code></pre></div>
<p>which you can play with our examples such as:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code><span class="c1"># ROOT of engula</span>
<span class="nb">cd</span> client
cargo run --example blob
</code></pre></div>



<a name="272498675"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/272498675" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#272498675">(Feb 19 2022 at 06:49)</a>:</h4>
<p>However, there are still multiple things we can improve as a binary for easy-to-use. For example, logging, handling ctrl-c and other signals, etc.</p>



<a name="272498683"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/272498683" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#272498683">(Feb 19 2022 at 06:49)</a>:</h4>
<p>Welcome to play with the image and share your experience or patches to make it more interactive :)</p>



<a name="273439275"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/273439275" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#273439275">(Feb 28 2022 at 02:24)</a>:</h4>
<p>I notice that <a href="https://github.com/engula/engula/discussions/502">v0.0.3 has been released</a> just now. Congrats and thanks to <span class="user-mention" data-user-id="460843">@Richard</span> 's awesome work! This version, after the redesign, bringing a new data struct API to talk with an Engula server and the whole software looks more interesting to play with now :)</p>



<a name="273439407"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/273439407" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#273439407">(Feb 28 2022 at 02:26)</a>:</h4>
<p>Wait a minute, I get some problem publishing the crates <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span> , trying to fix it.</p>



<a name="273443013"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/273443013" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#273443013">(Feb 28 2022 at 03:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="460843">Richard</span> <a href="#narrow/stream/306467-general/topic/random/near/273439407">said</a>:</p>
<blockquote>
<p>Wait a minute, I get some problem publishing the crates <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span> , trying to fix it.</p>
</blockquote>
<p>OK, I did some dirty hack to publish the crates finally.</p>



<a name="273443077"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/273443077" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#273443077">(Feb 28 2022 at 03:47)</a>:</h4>
<p>Everything for 0.3 should work now. Please help to verify that :)</p>



<a name="273443756"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/273443756" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#273443756">(Feb 28 2022 at 04:01)</a>:</h4>
<p><span class="user-mention" data-user-id="456473">@tison</span> can you help to tweet the release?</p>



<a name="273444276"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/273444276" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#273444276">(Feb 28 2022 at 04:12)</a>:</h4>
<p>The Reddit post is <a href="https://www.reddit.com/r/rust/comments/t36ha6/announcing_engula_03/">here</a>.</p>



<a name="273449458"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/273449458" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#273449458">(Feb 28 2022 at 06:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="460843">Richard</span> <a href="#narrow/stream/306467-general/topic/random/near/273443756">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="456473">tison</span> can you help to tweet the release?</p>
</blockquote>
<p>Sure!</p>



<a name="273450704"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/273450704" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> tison <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#273450704">(Feb 28 2022 at 06:30)</a>:</h4>
<p>And here is the tweet <a href="https://twitter.com/engulaio/status/1498181369066778628">https://twitter.com/engulaio/status/1498181369066778628</a>.</p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/engulaio/status/1498181369066778628"><img class="twitter-avatar" src="https://uploads.zulipusercontent.net/915287824c38afa7e764af2591e794a14c2a51ad/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313435383637373630383933383330373538382f51737a79326f6b505f6e6f726d616c2e706e67"></a><p>We’re pleased to announce the release of #Engula 0.3, the second official release!🥳<span aria-label="rocket" class="emoji emoji-1f680" role="img" title="rocket">:rocket:</span>

Engula 0.3 is the result of a redesign for interface and architecture, including a set of data structures.

Read more in the release blog.
<a href="https://t.co/LBOfDHgNpG">https://www.engula.io/blog/release-0.3</a></p><span>- Engula (@engulaio)</span></div></div>



<a name="273464952"></a>
<h4><a href="https://engula.zulipchat.com/#narrow/stream/306467-general/topic/random/near/273464952" class="zl"><img src="http://tisonkun.org/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard <a href="http://tisonkun.org/zulip-archive/stream/306467-general/topic/random.html#273464952">(Feb 28 2022 at 09:40)</a>:</h4>
<p>To make the architecture easier to reason about, I collected some related materials <a href="https://github.com/engula/engula/discussions/244">here</a>.</p>



<hr><p>Last updated: Apr 07 2022 at 13:11 UTC</p>
</html>